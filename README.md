# ü§ñ Meta-Agente Generador de Agentes AI

Un sistema completo basado en **Agno v2** con **AgentOS** y **Lantui TUI** que conversa contigo, dise√±a agentes especializados y genera c√≥digo listo para ejecutar.

## ‚ú® Caracter√≠sticas

- **Conversacional**: Describe lo que necesitas en lenguaje natural
- **Inteligente**: Hace preguntas aclaratorias para entender tus necesidades
- **Autom√°tico**: Genera c√≥digo Python funcional listo para usar
- **Flexible**: Soporta diferentes niveles de complejidad (b√°sico, con memoria, equipos)
- **Moderno**: Usa el framework Agno (10,000x m√°s r√°pido que LangChain)
- **AgentOS**: API RESTful completa con gesti√≥n de sesiones y persistencia
- **Lantui TUI**: Interfaz de terminal moderna estilo Claude Code (Go + Bubble Tea)

## üöÄ Inicio R√°pido

### Backend (AgentOS)

1. **Instalar dependencias**

   ```bash
   pip install -r requirements.txt
   ```

2. **Configurar variables de entorno**

   Copia `.env.example` a `.env` y define las claves necesarias:

   ```env
   ANTHROPIC_API_KEY=tu_api_key  # Para Claude
   DEEPSEEK_API_KEY=tu_api_key   # Para DeepSeek (opcional)
   ```

3. **Ejecutar AgentOS**

   ```bash
   python agentos.py
   ```

   El servidor estar√° disponible en `http://localhost:7777`

### Frontend (Lantui TUI)

1. **Requisitos**: Go 1.21+

2. **Ejecutar Lantui**

   ```bash
   cd lantui
   go mod download
   go run cmd/lantui/main.go
   ```

### CLI Cl√°sica (sin AgentOS)

```bash
python -m src.presentation.cli.main
```

## üìñ C√≥mo Usar

### Ejemplo de Conversaci√≥n

```
ü§ñ Meta-Agente Generador de Agentes AI

¬øQu√© tipo de agente necesitas?
> Un agente que busque noticias de tecnolog√≠a

Meta-Agente: ¬øQu√© herramientas necesita el agente?
a) B√∫squeda web (noticias, informaci√≥n general)
b) Datos financieros (acciones, mercados)
c) Otra (especifica)

> a

Meta-Agente: ¬øNecesita memoria de conversaciones previas?
> No

‚úì Tengo toda la informaci√≥n necesaria

üìã Plan del Agente:
Nombre: Buscador de Noticias Tech
Rol: Buscar noticias de tecnolog√≠a
Modelo: claude-sonnet-4
Herramientas: duckduckgo
...

‚úì Agente generado exitosamente: buscador_de_noticias_tech_agent.py
```

### Tipos de Agentes que Puedes Crear

#### 1. Agente B√°sico (Nivel 1)
- Agente simple con herramientas
- Sin memoria persistente
- Ideal para tareas puntuales

**Ejemplo**: "Un agente que busque informaci√≥n en internet"

#### 2. Agente con Memoria (Nivel 3)
- Recuerda conversaciones previas
- Storage persistente (SQLite)
- Ideal para asistentes personales

**Ejemplo**: "Un asistente personal que recuerde mis preferencias"

#### 3. Equipo de Agentes (Nivel 4)
- M√∫ltiples agentes colaborando
- Cada uno con especialidad
- Ideal para tareas complejas

**Ejemplo**: "Un equipo de investigaci√≥n y an√°lisis"

## üõ†Ô∏è Herramientas Disponibles

| Herramienta | Descripci√≥n | Uso |
|-------------|-------------|-----|
| `duckduckgo` | B√∫squeda web | Noticias, informaci√≥n general |
| `yfinance` | Datos financieros | Precios de acciones, an√°lisis |
| `reasoning` | Razonamiento complejo | An√°lisis, decisiones |
| `python` | Ejecutar c√≥digo | C√°lculos, procesamiento |
| `file` | Manipular archivos | Leer, escribir archivos |

## üèóÔ∏è Arquitectura del Sistema

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Lantui (Go TUI)                       ‚îÇ
‚îÇ         Terminal UI moderna (Bubble Tea)                ‚îÇ
‚îÇ    Pantallas: Welcome‚îÇConversation‚îÇPlan‚îÇGeneration      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                      ‚îÇ HTTP/REST (puerto 7777)
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                  AgentOS (FastAPI)                      ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê        ‚îÇ
‚îÇ  ‚îÇ   Analyzer Agent  ‚îÇ  Planner Agent         ‚îÇ        ‚îÇ
‚îÇ  ‚îÇ   (Preguntas)     ‚îÇ  (Crea planes)         ‚îÇ        ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò        ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ  Storage: SQLite (sesiones, memoria)                   ‚îÇ
‚îÇ  API: /agents/{id}/chat, /api/meta-agent/generate     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                      ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              Generated Agents (Python)                  ‚îÇ
‚îÇ           Agentes AI listos para ejecutar               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Componentes

- **Lantui (Go)**: Frontend TUI moderno con Bubble Tea
- **AgentOS (Python)**: Backend con API RESTful completa
- **Analyzer Agent**: Analiza solicitudes y hace preguntas
- **Planner Agent**: Crea planes estructurados
- **Generator**: Genera c√≥digo Python de agentes
- **SQLite Storage**: Persistencia de sesiones y memoria

## üìÅ Arquitectura del C√≥digo

```
.
‚îú‚îÄ‚îÄ agentos.py                 # ‚≠ê AgentOS - Servidor principal
‚îú‚îÄ‚îÄ lantui/                    # üé® Frontend TUI (Go)
‚îÇ   ‚îú‚îÄ‚îÄ cmd/lantui/            # Entry point
‚îÇ   ‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ui/                # Componentes Bubble Tea
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ client/            # Cliente AgentOS
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ models/            # Estructuras de datos
‚îÇ   ‚îî‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ application/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ services/
‚îÇ       ‚îî‚îÄ‚îÄ meta_agent.py        # Orquestador del flujo conversacional (Analyzer + Planner)
‚îú‚îÄ‚îÄ infrastructure/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ templates/
‚îÇ       ‚îî‚îÄ‚îÄ agent_templates.py   # Generaci√≥n de c√≥digo (b√°sico, memoria, equipos)
‚îú‚îÄ‚îÄ domain/
‚îÇ   ‚îî‚îÄ‚îÄ __init__.py              # Entidades de dominio (extensible)
‚îî‚îÄ‚îÄ presentation/
    ‚îî‚îÄ‚îÄ cli/
        ‚îî‚îÄ‚îÄ main.py              # Interface de l√≠nea de comandos

generated/
‚îú‚îÄ‚îÄ README.md                    # Gu√≠a de la carpeta
‚îî‚îÄ‚îÄ agents/                      # Ejemplos de agentes generados (versionados)

tools/verify_setup.py            # Script de verificaci√≥n de entorno
requirements.txt                 # Dependencias (Agno v2 + requests + dotenv + rich)
.env.example                     # Variables de entorno de ejemplo
```

## üîß Configuraci√≥n Avanzada

### Variables de Entorno

```bash
# Requerido
ANTHROPIC_API_KEY=tu_api_key

# Opcional (para usar otros modelos)
OPENAI_API_KEY=tu_api_key
GOOGLE_API_KEY=tu_api_key

# Configuraci√≥n adicional
LOG_LEVEL=INFO
```

### Modelos Soportados

- **DeepSeek**: `deepseek-chat` (default Analyzer) y `deepseek-reasoner` (Planner y equipos)
- **Agno v2** permite conectar otros modelos (Claude, GPT, Gemini) modificando el plan generado

## üí° Ejemplos de Uso

### Ejemplo 1: Agente Conversacional con B√∫squeda Web

```bash
python generated/agents/asistente_conversacional_con_b√∫squeda_web_agent.py
```

Incluye memoria persistente (`SqliteDb`) y herramientas DuckDuckGo + Serper.

### Ejemplo 2: Asistente Financiero

```bash
python main.py

> Necesito un analista de acciones
> Debe usar datos financieros en tiempo real
> Que recuerde mis acciones favoritas
```

Genera: `analista_de_acciones_agent.py` (con memoria)

### Ejemplo 3: Equipo de Art√≠culos de IA

```bash
python generated/agents/equipo_de_creaci√≥n_de_art√≠culos_de_ia_agent.py
```

Tres agentes DeepSeek que colaboran (investigaci√≥n, redacci√≥n y SEO).

## üß™ Testing y Scripts de Ejemplo

- Instala dependencias de desarrollo:

  ```bash
  pip install -r requirements-dev.txt
  ```

- Ejecuta la suite de tests con cobertura:

  ```bash
  pytest
  ```

- Revisa cobertura detallada:

  ```bash
  coverage report
  ```

- Scripts de ejemplo (ubicados en `tools/`):

  ```bash
  python tools/run_meta_agent_example.py           # Agente b√°sico (web search)
  python tools/run_meta_agent_topic.py             # Exploraci√≥n de tema IA
  python tools/run_meta_agent_with_memory.py       # Agente con memoria persistente
  python tools/run_meta_agent_team.py              # Equipo colaborativo de agentes
  ```

- Consulta `dics/plan_pruebas_manual.md` para escenarios manuales y `dics/plan_suite_automatizada.md` para el roadmap de testing automatizado.

### Integraci√≥n Continua

- El workflow `.github/workflows/tests.yml` ejecuta la suite autom√°ticamente en cada push/PR hacia `main` o `master`:

  ```yaml
  - name: Run tests with coverage
    run: |
      pytest
  ```

## üìö Documentaci√≥n

### Backend (Python + AgentOS)
- **[agentos.py](./agentos.py)** - Servidor AgentOS principal
- **[src/application/services/meta_agent.py](./src/application/services/meta_agent.py)** - L√≥gica del Meta-Agente
- **[src/infrastructure/api/meta_routes.py](./src/infrastructure/api/meta_routes.py)** - Rutas custom de API
- **[src/infrastructure/templates/agent_templates.py](./src/infrastructure/templates/agent_templates.py)** - Generaci√≥n de c√≥digo

### Frontend (Go + Lantui)
- **[doc-frontend/](./doc-frontend/)** - Documentaci√≥n completa del TUI
  - [resumen-agentos.md](./doc-frontend/resumen-agentos.md) - ‚≠ê **EMPIEZA AQU√ç**
  - [setup-inicial.md](./doc-frontend/setup-inicial.md) - Gu√≠a de instalaci√≥n Go
  - [api-contracts-agentos.md](./doc-frontend/api-contracts-agentos.md) - Contratos de API
  - [guia-estilo-go.md](./doc-frontend/guia-estilo-go.md) - Convenciones Go

### API Endpoints

**AgentOS Nativos:**
- `GET /health` - Health check
- `GET /config` - Configuraci√≥n del OS
- `GET /docs` - Documentaci√≥n Swagger
- `POST /agents/{agent_id}/chat` - Chat con agentes
- `GET /sessions` - Listar sesiones

**Custom Meta-Agent:**
- `POST /api/meta-agent/generate` - Generar c√≥digo
- `POST /api/meta-agent/generate-stream` - Con streaming
- `GET /api/meta-agent/generated` - Listar agentes generados

Ver detalles en [http://localhost:7777/docs](http://localhost:7777/docs) cuando AgentOS est√© corriendo.

## üéØ Casos de Uso

- **B√∫squeda e Investigaci√≥n**: Agentes que buscan y analizan informaci√≥n
- **An√°lisis Financiero**: Seguimiento de mercados y acciones
- **Asistentes Personales**: Con memoria de preferencias y contexto
- **Automatizaci√≥n**: Tareas repetitivas con datos actualizados
- **Equipos Especializados**: M√∫ltiples agentes trabajando juntos

## üêõ Soluci√≥n de Problemas

### Error: "ANTHROPIC_API_KEY no configurada"

**Soluci√≥n**: Copia `.env.example` a `.env` y a√±ade tu API key.

### Error: "ModuleNotFoundError: No module named 'agno'"

**Soluci√≥n**: Instala las dependencias: `pip install -r requirements.txt`

### El agente generado no funciona

**Checklist**:
1. ¬øInstalaste todas las dependencias?
2. ¬øConfiguraste el archivo .env?
3. ¬øEl c√≥digo generado tiene errores de sintaxis?
4. ¬øLas herramientas est√°n correctamente importadas?

### Preguntas aclaratorias muy repetitivas

El analyzer_agent a veces necesita contexto. S√© m√°s espec√≠fico en tu primera descripci√≥n:

‚ùå "Un agente de b√∫squeda"
‚úÖ "Un agente que busque noticias de tecnolog√≠a usando b√∫squeda web, sin memoria"

## üìö Recursos

- **Agno Framework**: https://docs.agno.com
- **Agno GitHub**: https://github.com/agno-agi/agno
- **Anthropic Claude**: https://www.anthropic.com/claude
- **Documentaci√≥n del Proyecto**: Ver archivos `proyect_context.md` y `cursor_prompts.md`

## ü§ù Contribuir

Este proyecto est√° dise√±ado para ser extensible. √Åreas de mejora:

- [ ] M√°s herramientas Agno
- [ ] Soporte para workflows (Nivel 5)
- [ ] API REST con FastAPI
- [ ] Interfaz web con Gradio
- [ ] Tests unitarios
- [ ] Validaci√≥n de c√≥digo generado

## üìù Notas T√©cnicas

### Por qu√© Agno y no LangChain

- **Performance**: ~10,000x m√°s r√°pido en instantiation
- **Memoria**: ~50x menos uso de memoria
- **API**: M√°s limpia y menos boilerplate
- **Moderno**: Dise√±ado para multi-modal y multi-agente

### Arquitectura del Meta-Agente

El sistema usa dos agentes especializados:

1. **Analyzer Agent**: Analiza solicitudes y hace preguntas
2. **Planner Agent**: Crea planes estructurados en JSON

Los planes se validan con Pydantic y se transforman en c√≥digo mediante templates.

## üìÑ Licencia

Este proyecto es de c√≥digo abierto. √ösalo libremente para crear tus propios agentes.

## üôã Soporte

Si encuentras problemas o tienes sugerencias, abre un issue o consulta la documentaci√≥n completa en `proyect_context.md`.

---

**Hecho con ‚ù§Ô∏è usando Agno y Claude AI**
